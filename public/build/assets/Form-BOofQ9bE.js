import{u as m,r as w,W as k,j as e,a as h,y as x}from"./app-DUD9FxAe.js";import{P as q}from"./PrimaryButton-DDpmqCs-.js";import{a as P,L as F}from"./lang-Rf8_tUbV.js";import{I as j}from"./InputText-8GBDd7K4.js";import{I as L}from"./InputSelect-BKKZVYkM.js";import{l as T}from"./translation-FNvhZ9NL.js";import b from"./Row-BNizitlK.js";import{c as V}from"./reselect-NCCDNIWx.js";import{z}from"./transition-Dk6MwGSW.js";import"./InputLabel-Doo0KOeK.js";import"./translation-hRiGdJJJ.js";import"./selectors-DcLeQ0hp.js";V(s=>s,s=>s);const E=s=>s.pricing.priceItems,A=s=>s.pricing.totalPrice;function Z({categoryData:s=null,clinicData:y,formRowData:c=null,formData:r,unitData:d,className:C=""}){const v=m(P),i=new F({messages:T,locale:v}),g=m(E),N=m(A),[t,p]=w.useState({name:r.name,clinic_id:y.id,category_id:r.category_id,price:r.price}),{processing:S,recentlySuccessful:_,errors:B}=k(),I=a=>{const n=a.target.id,l=a.target.value;p(o=>({...o,[n]:l}))},u=a=>{const n=a.target.id,l=a.target.value;p(o=>({...o,[n]:l}))},f=a=>{a.preventDefault(),t.rows=g,r.id?x.post(`/pricing/update?id=${r.id}`,t):x.post("/pricing/update",{clinic_id:t.clinic_id,category_id:t.category_id,name:t.name,price:t.price,rows:g})};return e.jsxs("section",{className:C,children:[e.jsx("header",{children:e.jsxs("h2",{children:[e.jsx(h,{className:"icon-back",href:"/pricing",children:"Â "}),r!=null&&r.id?i.get("mCategories.pricing.edit"):i.get("mCategories.service.create")]})}),e.jsxs("form",{onSubmit:f,className:"mt-0 space-y-4 min-w-[350px]",encType:"multipart/form-data",children:[e.jsx(j,{name:"name",values:t,dataValue:t.name,value:t.name,onChange:u,required:!0,label:i.get("mCategories.name")}),e.jsx(L,{name:"category_id",values:t,value:t.category_id,options:s,onChange:I,required:!0,label:i.get("mCategories.category")}),e.jsx(j,{name:"price",values:t,dataValue:t.price,value:t.price,onChange:u,required:!0,label:i.get("mCategories.price")}),e.jsxs("div",{className:"relative",children:[e.jsxs("table",{className:"w-full1",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"pb-3 w-[65%]",children:i.get("mCategories.product")}),e.jsx("th",{className:"pb-3 w-unit",children:i.get("mCategories.unit")}),e.jsx("th",{className:"pb-3 w-qty",children:i.get("mCategories.qty")}),e.jsx("th",{className:"pb-3 w-btn",children:i.get("mCategories.price")}),e.jsx("th",{className:"pb-3 w-btn",children:i.get("mCategories.total")})]})}),e.jsx("tbody",{children:(c==null?void 0:c.length)>0?e.jsx(b,{formRowData:c,unitData:d}):e.jsx(b,{formRowData:[{product_id:"",product:"",quantity:"",price:"",total:"",unit_id:""}],unitData:d})})]}),e.jsxs("div",{className:"w-full border-t-2 text-right mt-4 font-bold",children:[i.get("mCategories.total"),": ",(Number(t.price?t.price:0)+N).toFixed(2)," "]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(h,{className:"btn-back",title:i.get("mCategories.back"),href:"/pricing",children:i.get("mCategories.back")}),e.jsx(q,{disabled:S,children:i.get("mCategories.save")}),e.jsx(z,{show:_,enter:"transition ease-in-out",enterFrom:"opacity-0",leave:"transition ease-in-out",leaveTo:"opacity-0",children:e.jsx("p",{className:"text-sm text-gray-600",children:i.get("mCategories.saved")})})]})]})]})}export{Z as default};
