import{c as N,u as c,r as l,K as b,j as e,Y as d,z as y,L as S}from"./app-DUD9FxAe.js";import{A as R}from"./AuthenticatedLayout-BBwQuZdH.js";import{a as L,L as q}from"./lang-Rf8_tUbV.js";import{l as E}from"./translation-xJPwW3Hr.js";import{P as w}from"./PrimaryButton-DDpmqCs-.js";import{I as A}from"./InputSelect-BKKZVYkM.js";import{r as C}from"./selectors-DcLeQ0hp.js";import"./ApplicationLogo-fdB6LoQ_.js";import"./portal-B0qkh_OA.js";import"./transition-Dk6MwGSW.js";import"./floating-ui.react-CImirEtS.js";import"./reselect-NCCDNIWx.js";import"./InputLabel-Doo0KOeK.js";import"./translation-hRiGdJJJ.js";function J({storesData:m}){const r=N(),h=c(L),i=new q({messages:E,locale:h}),[s,p]=l.useState({store_id:""}),[x,n]=l.useState(""),a=c(C),j=t=>{const o=t.target.id,f=t.target.value;p(v=>({...v,[o]:f})),o==="tax_id"&&r(y(t.target.value))},u=()=>{s.store_id?(n(""),r(S(s.store_id))):n(i.get("material.report.error.store"))};l.useEffect(()=>{s.store_id||r(b())},[a]);const g=()=>{if(a)return e.jsx("div",{className:"mt-4",children:e.jsxs("table",{className:"table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("b",{children:"Материал"})}),e.jsx("td",{className:"tqty",children:e.jsx("b",{children:"Количество"})}),e.jsx("td",{className:"tqty",children:e.jsx("b",{children:"Фактична кількість"})})]})}),e.jsx("tbody",{children:a.map(t=>e.jsxs("tr",{children:[e.jsxs("td",{children:[t.name," (",t.producername,")"]}),e.jsxs("td",{className:"tqty",children:[t.quantity," ",t.unitname]}),e.jsxs("td",{className:"tqty",children:[t.weight>0?t.weight:""," ",t.weight>0?t.unitsizename:""]})]}))})]})})};return e.jsxs(R,{header:e.jsx(d,{}),children:[e.jsx(d,{title:"Store Report"}),e.jsx("div",{className:"py-0",children:e.jsx("div",{children:e.jsxs("div",{className:"p-4 sm:p-8 mb-8 content-data bg-content",children:[e.jsx("section",{children:e.jsx("header",{children:e.jsxs("div",{className:"flex inline-flex",children:[e.jsx("h2",{children:i.get("material.title.report")}),e.jsxs("div",{className:"pl-5 mt-2",children:[e.jsxs("div",{className:"flex",children:[e.jsx(A,{translatable:!1,name:"store_id",className:"mb-1",values:s,value:s.store_id,options:m,onChange:j,required:!0,label:""}),e.jsx("div",{className:"ml-4",children:e.jsx(w,{children:e.jsx("div",{onClick:()=>{u()},children:i.get("material.report.generate")})})})]}),e.jsx("div",{className:"form-error",children:x})]})]})})}),e.jsx("div",{children:g()})]})})})]})}export{J as default};
